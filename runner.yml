# =============================================================================
# Default Task Runner configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Global Task Runner settings
# -----------------------------------------------------------------------------
#
# The "runner.working_dir" will contain the full path to current working directory.
# @see OpenEuropa\TaskRunner\TaskRunner::createConfiguration()
runner:
  bin_dir: "./vendor/bin"
#  working_dir: ~

# -----------------------------------------------------------------------------
# GitHub configuration values.
# -----------------------------------------------------------------------------
github:
  # GitHub personal access token token.
  # @link https://github.com/settings/tokens
  token: ~

# -----------------------------------------------------------------------------
# List of dynamically-defined commands.
# -----------------------------------------------------------------------------
project:
  repository: ${REPOSITORY}
  basedir: repositories/${project.repository}

commands:
  project:phpcs:
    - "[[ ! -d ${project.basedir} ]] && mkdir -p ${project.basedir} && git clone --depth 1 https://${GITHUB_API_TOKEN}@github.com/${project.repository}.git -b master ${project.basedir}"
    - "/test/downstream/vendor/ec-europa/toolkit/bin/phing -f ${project.basedir}/build.xml test-run-phpcs -D'toolkit.dir'='/test/downstream/vendor/ec-europa/toolkit' -logger phing.listener.AnsiColorLogger"